.root {
	@apply col-span-full;
	@apply p-6;
	@apply items-stretch;
	@apply bg-white border border-solid border-gray-300;
	@apply transition-shadow duration-300;

	> .header {
		@apply flex-col items-center justify-center flex-nowrap;
		@apply gap-2;

		> .label {
			@apply flex-auto;
			@apply gap-0;
			@apply flex-col items-center;

			> .title {
				@apply heading-3 text-center;
			}

			> .subtitle {
				@apply paragraph-sm text-center;
			}
		}

		> .filters {
			@apply gap-2 flex-nowrap;
			@apply flex-shrink-0;
			@apply flex-col items-center justify-center;

			> .label {
				@apply paragraph-sm;
				@apply mt-2;
			}

			> .dropdown {
				@apply flex-shrink-0;
			}
		}
	}

	> .tabs {
		@apply flex flex-col items-center justify-start;
		@apply gap-8;

		> .list {
			@apply relative;
			@apply w-full h-10 px-1 gap-1;
			@apply justify-center items-center flex-nowrap;
			@apply bg-gray-50;

			> .tab {
				@apply h-8;
				@apply display-sm-sb-d3;
				@apply transition-colors;
				@apply z-[1];

				&[data-active] {
					@apply display-sm-sb-d6;
				}

				&:not([data-active]):hover {
					@apply bg-gray-100;
				}
			}

			> .indicator {
				@apply h-7;
				@apply bg-white border border-solid border-gray-300;
				@apply shadow-xs;
			}
		}
	}

	> .stats {
		@apply gap-6;
		@apply grid grid-cols-1 items-center justify-center;

		> .divider {
			@apply border-gray-100;
		}

		> .stat {
			@apply flex-auto;
			@apply p-0;
			@apply border-0;

			&:hover {
				box-shadow: none;
			}
		}
	}

	> .wrapper {
		@apply py-4;
		@apply overflow-x-auto;

		> .heatmap {
			--heatmap-level-1: alpha(var(--heatmap-base-color), 0.25);
			--heatmap-level-2: alpha(var(--heatmap-base-color), 0.5);
			--heatmap-level-3: alpha(var(--heatmap-base-color), 0.75);
			--heatmap-level-4: alpha(var(--heatmap-base-color), 1);
		}
	}

	&.energy {
		--heatmap-base-color: var(--mantine-color-yellow-6);
	}
	&.industry {
		--heatmap-base-color: var(--mantine-color-maroon-6);
	}
	&.transport {
		--heatmap-base-color: var(--mantine-color-salmon-6);
	}
	&.buildings {
		--heatmap-base-color: var(--mantine-color-purple-6);
	}
	&.agriculture {
		--heatmap-base-color: var(--mantine-color-palm-6);
	}
	&.waste {
		--heatmap-base-color: var(--mantine-color-skyline-6);
	}
}

* {
	@mixin larger-than $mantine-breakpoint-md {
		.root {
			@apply col-span-7;
		}
	}
	@mixin larger-than $mantine-breakpoint-xl {
		.root {
			@apply px-8 py-6;

			> .header {
				@apply flex-row;

				> .label {
					@apply items-start;

					> .title,
					> .subtitle {
						@apply text-left;
					}
				}

				> .filters {
					@apply flex-row justify-end;

					> .label {
						@apply mt-0 ml-2;
					}
				}
			}

			> .stats {
				grid-template-columns: 1fr auto 1fr auto 1fr;
			}
		}
	}

	@mixin dark {
		.root {
			@apply bg-dark-700 border-dark-500;

			> .tabs > .list {
				@apply bg-dark-600;

				> .tab {
					@apply text-dark-50;

					&[data-active='true'] {
						@apply text-white;
					}

					&:not([data-active='true']):hover {
						@apply bg-dark-500;
					}
				}

				> .indicator {
					@apply bg-dark-400 border-0;
					box-shadow: none;
				}
			}

			> .stats > .divider {
				@apply border-dark-500;
			}
		}
	}
}
